<?xml version="1.0" encoding="UTF-8"?>
<Root>
    <Statement category="read" target="user">
        <Details scriptId="sqlSelectUserBySNS" author="WL">
            <![CDATA[
                Declare @sns as varchar(128)
                set @sns = ?
                select * from user where sns = @sns
            ]]>
        </Details>
    </Statement>
    <Statement category="read" target="feed">
        <Details scriptId="sqlSelectFeedByIDSNS" author="WL">
            <![CDATA[
                select * from feed where id = ? and sns = ?
            ]]>
        </Details>
    </Statement>
    <Statement category="read" target="feed">
        <Details scriptId="sqlSelectFeedBySNSBeforeLimit" author="WL">
            <![CDATA[
                select * from feed where sns = ? and updated_time < ? order by updated_time desc limit ?
            ]]>
        </Details>
    </Statement>
    <Statement category="upsert" target="feed">
        <Details scriptId="sqlInsertFeed" author="WL">
            <![CDATA[
            
                INSERT OR REPLACE INTO Feed (id, SNS, 
				    feed_from_name, feed_from_id, feed_from_img,
				     msg, story, 
				     pic, pic_large, link, name, caption, description, 
				     source, icon, annotation, type, 
				     created_time, updated_time, 
				     isread, isliked, cnt_likes, cnt_comments, cnt_share)
				values ( ?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
            ]]>
        </Details>
    </Statement>
</Root>